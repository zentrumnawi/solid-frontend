{"version":3,"file":"zentrumnawi-solid-core.mjs","sources":["../../../../../libs/solid/core/src/lib/solid-core-config.ts","../../../../../libs/solid/core/src/lib/services/markdown.service.ts","../../../../../libs/solid/core/src/lib/custom-route-reuse-strategy.ts","../../../../../libs/solid/core/src/lib/custom-router-state-serializer.ts","../../../../../libs/solid/core/src/lib/services/title.service.ts","../../../../../libs/solid/core/src/lib/components/markdown/markdown.component.ts","../../../../../libs/solid/core/src/lib/models/image.model.ts","../../../../../libs/solid/core/src/lib/models/media.model.ts","../../../../../libs/solid/core/src/lib/components/media-error-dialog/media-error-dialog.component.ts","../../../../../libs/solid/core/src/lib/components/media-error-dialog/media-error-dialog.component.html","../../../../../libs/solid/core/src/lib/media-dialog-token.ts","../../../../../libs/solid/core/src/lib/components/media-toolbar/media-toolbar.component.ts","../../../../../libs/solid/core/src/lib/components/media-toolbar/media-toolbar.component.html","../../../../../libs/solid/core/src/lib/components/audio-toolbar/audio-toolbar.component.ts","../../../../../libs/solid/core/src/lib/components/audio-toolbar/audio-toolbar.component.html","../../../../../libs/solid/core/src/lib/components/audio-icon/audio-icon.component.ts","../../../../../libs/solid/core/src/lib/components/audio-icon/audio-icon.component.svg","../../../../../libs/solid/core/src/lib/components/media-detail/media-detail.component.ts","../../../../../libs/solid/core/src/lib/components/media-detail/media-detail.component.html","../../../../../libs/solid/core/src/lib/components/media/media.component.ts","../../../../../libs/solid/core/src/lib/components/media/media.component.html","../../../../../libs/solid/core/src/lib/components/media-dialog/media-dialog.component.ts","../../../../../libs/solid/core/src/lib/components/media-dialog/media-dialog.component.html","../../../../../libs/solid/core/src/lib/solid-core.module.ts","../../../../../libs/solid/core/src/lib/markdown/overline.plugin.ts","../../../../../libs/solid/core/src/zentrumnawi-solid-core.ts"],"sourcesContent":["import { InjectionToken } from '@angular/core';\r\nimport * as MarkdownIt from 'markdown-it/lib';\r\n\r\nexport interface SolidCoreConfig {\r\n  apiUrl: string;\r\n  markdownPlugins?: ((md: MarkdownIt, ...params: any[]) => void)[];\r\n  appName: string;\r\n  appLogo?: string;\r\n  glossaryLogo: string;\r\n  feedbackLogo: string;\r\n  production: boolean;\r\n  error_report: boolean;\r\n  guidedTour: any;\r\n  profileTour: any;\r\n  landingBannerContent: any;\r\n  expandProfileTree: boolean;\r\n  expandAllgemein: boolean;\r\n}\r\n\r\nexport const SOLID_CORE_CONFIG = new InjectionToken<SolidCoreConfig>(\r\n  'solid-core-config'\r\n);\r\n","import { Inject, Injectable, SecurityContext } from '@angular/core';\r\nimport * as MarkdownIt from 'markdown-it';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { SOLID_CORE_CONFIG, SolidCoreConfig } from '../solid-core-config';\r\n\r\n@Injectable()\r\nexport class MarkdownService {\r\n  private readonly _markdownIt: MarkdownIt;\r\n\r\n  constructor(\r\n    @Inject(SOLID_CORE_CONFIG) _config: SolidCoreConfig,\r\n    private _domSanitizer: DomSanitizer\r\n  ) {\r\n    const md = new MarkdownIt({\r\n      html: true,\r\n    });\r\n    _config.markdownPlugins?.forEach((plugin) => md.use(plugin));\r\n    this._markdownIt = md;\r\n  }\r\n\r\n  public compile(data: string, inline: boolean): any {\r\n    return this._domSanitizer.sanitize(\r\n      SecurityContext.HTML,\r\n      inline\r\n        ? this._markdownIt.renderInline(data)\r\n        : this._markdownIt.render(data)\r\n    );\r\n  }\r\n}\r\n","import {\r\n  ActivatedRouteSnapshot,\r\n  DetachedRouteHandle,\r\n  RouteReuseStrategy,\r\n} from '@angular/router';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class CustomRouteReuseStrategy implements RouteReuseStrategy {\r\n  shouldDetach(route: ActivatedRouteSnapshot): boolean {\r\n    return false;\r\n  }\r\n\r\n  store(\r\n    route: ActivatedRouteSnapshot,\r\n    detachedTree: DetachedRouteHandle\r\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n  ): void {}\r\n\r\n  shouldAttach(route: ActivatedRouteSnapshot): boolean {\r\n    return false;\r\n  }\r\n\r\n  retrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle | null {\r\n    return null;\r\n  }\r\n\r\n  shouldReuseRoute(\r\n    future: ActivatedRouteSnapshot,\r\n    curr: ActivatedRouteSnapshot\r\n  ): boolean {\r\n    const reuse = future.routeConfig === curr.routeConfig;\r\n    if (reuse && future.data.noReuse) {\r\n      return false;\r\n    }\r\n    return reuse;\r\n  }\r\n}\r\n","import { Params, RouterStateSnapshot } from '@angular/router';\r\nimport { RouterStateSerializer } from '@ngxs/router-plugin';\r\nimport { Injectable } from '@angular/core';\r\n\r\nexport interface RouterStateParams {\r\n  url: string;\r\n  params: Params;\r\n  queryParams: Params;\r\n  routeData: { title?: string };\r\n}\r\n\r\n// Map the router snapshot to { url, params, queryParams }\r\n@Injectable()\r\nexport class CustomRouterStateSerializer\r\n  implements RouterStateSerializer<RouterStateParams>\r\n{\r\n  serialize(routerState: RouterStateSnapshot): RouterStateParams {\r\n    const {\r\n      url,\r\n      root: { queryParams },\r\n    } = routerState;\r\n\r\n    let { root: route } = routerState;\r\n    while (route.firstChild) {\r\n      route = route.firstChild;\r\n    }\r\n\r\n    const { params, data } = route;\r\n\r\n    return { url, params, queryParams, routeData: data };\r\n  }\r\n}\r\n","import { Inject, Injectable } from '@angular/core';\r\nimport { Title } from '@angular/platform-browser';\r\nimport { map } from 'rxjs/operators';\r\nimport { MatDialogRef } from '@angular/material/dialog';\r\nimport { Actions, ofActionSuccessful } from '@ngxs/store';\r\nimport { RouterNavigation } from '@ngxs/router-plugin';\r\nimport { RouterStateParams } from '../custom-router-state-serializer';\r\nimport { SOLID_CORE_CONFIG, SolidCoreConfig } from '../solid-core-config';\r\n\r\n@Injectable()\r\nexport class TitleService {\r\n  constructor(\r\n    @Inject(SOLID_CORE_CONFIG) private cfg: SolidCoreConfig,\r\n    private _title: Title,\r\n    actions: Actions\r\n  ) {\r\n    actions\r\n      .pipe(\r\n        ofActionSuccessful(RouterNavigation<RouterStateParams>),\r\n        map(\r\n          (value: RouterNavigation<RouterStateParams>) =>\r\n            value.routerState.routeData.title\r\n        )\r\n      )\r\n      .subscribe((title) => {\r\n        this._title.setTitle(title ? `${title} | ${cfg.appName}` : cfg.appName);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Sets the title of the app for the lifetime of a dialog.\r\n   */\r\n  setDialogTitle(dialogRef: MatDialogRef<any>, title: string) {\r\n    const oldTitle = this._title.getTitle();\r\n    this._title.setTitle(`${title} | ${this.cfg.appName}`);\r\n    const sub = dialogRef.afterClosed().subscribe(() => {\r\n      this._title.setTitle(oldTitle);\r\n      sub.unsubscribe();\r\n    });\r\n  }\r\n}\r\n","import { MarkdownService } from '../../services/markdown.service';\r\nimport { Component, HostBinding, Input } from '@angular/core';\r\n\r\n@Component({\r\n  // eslint-disable-next-line @angular-eslint/component-selector\r\n  selector: '[markdown]',\r\n  template: '<ng-content></ng-content>',\r\n  // eslint-disable-next-line @angular-eslint/no-host-metadata-property\r\n  host: {\r\n    class: 'md-rendered',\r\n  },\r\n  styleUrls: ['./markdown.component.scss'],\r\n})\r\nexport class MarkdownComponent {\r\n  @Input() public set inline(value: boolean) {\r\n    this._inline = value;\r\n    this.onDataChange();\r\n  }\r\n  @HostBinding('innerHTML') public innerHTML = '';\r\n  private _data = '';\r\n  private _inline = false;\r\n\r\n  @HostBinding('class.md-inline') public inlineClass = () => this._inline;\r\n  constructor(private _md: MarkdownService) {}\r\n\r\n  @Input()\r\n  public set data(value: string) {\r\n    this._data = value;\r\n    this.onDataChange();\r\n  }\r\n\r\n  @Input() public set appendData(value: string) {\r\n    if (value !== null) {\r\n      this.innerHTML =\r\n        this._md.compile(this._data, this._inline) +\r\n        `<span class=\"media-object-title\"> | ${value}<span>`;\r\n    }\r\n  }\r\n\r\n  public onDataChange() {\r\n    if (this._data) {\r\n      this.innerHTML = this._md.compile(this._data, this._inline);\r\n    } else {\r\n      this.innerHTML = '';\r\n    }\r\n  }\r\n}\r\n","import { PhotographModel } from './photograph.model';\r\n\r\nexport class ImageModel {\r\n  public get isLandscape() {\r\n    return (\r\n      this._photograph.img_original_width > this._photograph.img_original_height\r\n    );\r\n  }\r\n  public get attributions(): string | undefined {\r\n    const author = this._photograph.author;\r\n    const license = this._photograph.license;\r\n    if (author && license) {\r\n      return `${this._photograph.author} (${this._photograph.license})`;\r\n    }\r\n    if (license) {\r\n      return license;\r\n    }\r\n    if (author) {\r\n      return author;\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  public get description(): string | undefined {\r\n    return this._photograph.description;\r\n  }\r\n\r\n  public get audiosrc(): string | undefined {\r\n    return this._photograph.audio;\r\n  }\r\n\r\n  public get audioduration(): string | undefined {\r\n    return this._photograph.audio_duration;\r\n  }\r\n\r\n  public get alt(): string {\r\n    return this._photograph.img_alt;\r\n  }\r\n\r\n  public get author(): string | undefined {\r\n    return this._photograph.author;\r\n  }\r\n\r\n  public get license(): string | undefined {\r\n    return this._photograph.license;\r\n  }\r\n\r\n  public getRawImage(size: 'thumbnail' | 'small' | 'medium' | 'large') {\r\n    return this._photograph.img[size];\r\n    // return this._photograph.file[size]; // works but should it also be img for questions ?\r\n  }\r\n\r\n  public get deepZoomLink(): string | false {\r\n    if (!this._photograph.dzi_file) {\r\n      return false;\r\n    }\r\n    return this._photograph.dzi_file;\r\n  }\r\n\r\n  constructor(private _photograph: PhotographModel) {}\r\n}\r\n","import { MediaObjectModel } from './media-object.model';\r\n\r\nexport class MediaModel {\r\n  constructor(private _mediaObject: MediaObjectModel) {}\r\n\r\n  public get mediaType() {\r\n    return this._mediaObject.media_format;\r\n  }\r\n\r\n  public get isLandscape() {\r\n    return (\r\n      this._mediaObject.img_original_width >\r\n      this._mediaObject.img_original_height\r\n    );\r\n  }\r\n  public get attributions(): string | undefined {\r\n    const author = this._mediaObject.author;\r\n    const license = this._mediaObject.license;\r\n    if (author && license) {\r\n      return `${this._mediaObject.author} (${this._mediaObject.license})`;\r\n    }\r\n    if (license) {\r\n      return license;\r\n    }\r\n    if (author) {\r\n      return author;\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  public get description(): string | undefined {\r\n    return this._mediaObject.description;\r\n  }\r\n\r\n  public get audiosrc(): string | undefined {\r\n    return this._mediaObject.audio;\r\n  }\r\n\r\n  //   public get audioduration(): string | undefined {\r\n  //     return this._mediaObject.audio_duration;\r\n  //   }\r\n\r\n  public get alt(): string {\r\n    return this._mediaObject.img_alt;\r\n  }\r\n\r\n  public get author(): string | undefined {\r\n    return this._mediaObject.author;\r\n  }\r\n\r\n  public get license(): string | undefined {\r\n    return this._mediaObject.license;\r\n  }\r\n\r\n  public getRawImage(\r\n    size: 'thumbnail' | 'small' | 'medium' | 'large' | 'original'\r\n  ) {\r\n    if (this.mediaType === 'image') {\r\n      return this._mediaObject.file[size];\r\n    }\r\n    if (this.mediaType === 'audio') {\r\n      return 'assets/profile/audio.svg';\r\n    }\r\n    if (this.mediaType === 'video') {\r\n      return 'assets/profile/video.svg';\r\n    }\r\n    return 'assets/profile/no_thumbnail.svg';\r\n  }\r\n  public getSrc() {\r\n    if (this.mediaType === 'video' || this.mediaType === 'audio') {\r\n      return this._mediaObject.file['original'];\r\n    }\r\n    return null;\r\n  }\r\n\r\n  public get deepZoomLink(): string | false {\r\n    if (!this._mediaObject.dzi_file) {\r\n      return false;\r\n    }\r\n    return this._mediaObject.dzi_file;\r\n  }\r\n\r\n  public get getTitle() {\r\n    return this._mediaObject.title;\r\n  }\r\n\r\n  public get getProfilePosition() {\r\n    return this._mediaObject.profile_position;\r\n  }\r\n}\r\n","import { Component, Inject } from '@angular/core';\r\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { SOLID_CORE_CONFIG, SolidCoreConfig } from '../../solid-core-config';\r\n\r\n@Component({\r\n  selector: 'solid-core-media-error-dialog',\r\n  templateUrl: './media-error-dialog.component.html',\r\n  styleUrls: ['./media-error-dialog.component.scss'],\r\n})\r\nexport class MediaErrorDialogComponent {\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    @Inject(MAT_DIALOG_DATA) public name: string,\r\n    @Inject(SOLID_CORE_CONFIG) public coreConfig: SolidCoreConfig\r\n  ) {}\r\n}\r\n","<div mat-dialog-title class=\"mat-error-dialog-title\">\r\n  <div>{{ data.title }}</div>\r\n  <button mat-icon-button mat-dialog-close>\r\n    <mat-icon>close</mat-icon>\r\n  </button>\r\n</div>\r\n<div class=\"mat-error-dialog-content\">\r\n  <p>{{ data.content }}</p>\r\n</div>\r\n","import { ComponentType } from '@angular/cdk/portal';\r\nimport { InjectionToken } from '@angular/core';\r\nimport type { MediaDialogComponent } from './components/index';\r\n\r\nexport const MEDIA_DIALOG_TOKEN: InjectionToken<MediaDialogComponent> =\r\n  new InjectionToken<ComponentType<MediaDialogComponent>>('media_dialog_token');\r\n","import {\r\n  Component,\r\n  EventEmitter,\r\n  HostListener,\r\n  Inject,\r\n  Input,\r\n  NgZone,\r\n  OnChanges,\r\n  OnInit,\r\n  Output,\r\n} from '@angular/core';\r\nimport { ImageModel, MediaModel } from '../../models';\r\nimport { MatDialog, MatDialogRef } from '@angular/material/dialog';\r\nimport {\r\n  CloseScrollStrategy,\r\n  ComponentType,\r\n  ConnectedPosition,\r\n  ScrollDispatcher,\r\n  ViewportRuler,\r\n} from '@angular/cdk/overlay';\r\nimport { BreakpointObserver } from '@angular/cdk/layout';\r\nimport { MEDIA_DIALOG_TOKEN } from '../../media-dialog-token';\r\nimport type { MediaDialogComponent } from '../media-dialog/media-dialog.component';\r\n\r\n@Component({\r\n  selector: 'solid-core-media-toolbar',\r\n  templateUrl: './media-toolbar.component.html',\r\n  styleUrls: ['./media-toolbar.component.scss'],\r\n})\r\nexport class MediaToolbarComponent implements OnInit, OnChanges {\r\n  @Input() public mediaObject?: MediaModel;\r\n  @Input() public image?: ImageModel;\r\n  @Input() public name!: string;\r\n  @Input() hasAttributions!: boolean;\r\n  @Input() hasDialog!: boolean;\r\n  @Input() hasDziTools = false;\r\n  @Input() hasAudio!: boolean;\r\n  @Input() hasDescription!: boolean;\r\n  @Input() hasDescriptionToggle!: boolean;\r\n  @Input() data!: any;\r\n  private length = 90;\r\n  @Input() slideshowPageChanged!: number;\r\n  @Input() openDialogRequest?: boolean;\r\n  @Input() isToolbarInDialog = false;\r\n\r\n  @Input() isOverlayAboveOfDziZoomToolbar!: boolean;\r\n  @Input() isOverlayAboveOfNonDziZoomToolbar!: boolean;\r\n  attributionsPositions: ConnectedPosition[] = [];\r\n  attributionsScrollStrategy: CloseScrollStrategy;\r\n  descriptionScrollStrategy: CloseScrollStrategy;\r\n  attributionsIsOpen = false;\r\n  descriptionIsOpen = false;\r\n  dialogRef?: MatDialogRef<any>;\r\n\r\n  @Output() descriptionToggle = new EventEmitter<boolean>();\r\n  @Output() closeDialogEventEmitter = new EventEmitter();\r\n  descriptionToggled = false;\r\n  @Input() hasNavigationInDialog!: boolean;\r\n  @Output() NextDialogEmitter = new EventEmitter();\r\n  @Output() PrevDialogEmitter = new EventEmitter();\r\n  isMobile = false;\r\n\r\n  constructor(\r\n    private _dialog: MatDialog,\r\n    private scrollDispatcher: ScrollDispatcher,\r\n    viewportRuler: ViewportRuler,\r\n    private ngZone: NgZone,\r\n    private _breakpointObserver: BreakpointObserver,\r\n    @Inject(MEDIA_DIALOG_TOKEN)\r\n    private matDialogComponent: ComponentType<MediaDialogComponent>\r\n  ) {\r\n    this.attributionsScrollStrategy = new CloseScrollStrategy(\r\n      scrollDispatcher,\r\n      ngZone,\r\n      viewportRuler\r\n    );\r\n    this.descriptionScrollStrategy = new CloseScrollStrategy(\r\n      scrollDispatcher,\r\n      ngZone,\r\n      viewportRuler\r\n    );\r\n  }\r\n\r\n  ngOnChanges(): void {\r\n    this.descriptionToggled = false;\r\n    this.attributionsIsOpen = false;\r\n    if (this.openDialogRequest) {\r\n      if (this.mediaObject) {\r\n        this.openDialog();\r\n      }\r\n      if (this.image) {\r\n        this.openDialogImage();\r\n      }\r\n    }\r\n    if (\r\n      this.dialogRef &&\r\n      this.dialogRef.componentInstance &&\r\n      this.mediaObject\r\n    ) {\r\n      this.dialogRef.componentInstance.data = {\r\n        mediaObject: this.mediaObject,\r\n        name: this.name,\r\n        type: 'mediaObject',\r\n        hasNavigationInDialog: this.hasNavigationInDialog,\r\n      };\r\n    }\r\n    if (this.isOverlayAboveOfDziZoomToolbar) {\r\n      this.attributionsPositions = [\r\n        {\r\n          originX: 'end',\r\n          originY: 'top',\r\n          overlayX: 'center',\r\n          overlayY: 'bottom',\r\n        },\r\n      ];\r\n    } else {\r\n      this.attributionsPositions = [\r\n        {\r\n          originX: 'start',\r\n          originY: 'center',\r\n          overlayX: 'end',\r\n          overlayY: 'center',\r\n        },\r\n      ];\r\n    }\r\n    if (this.isOverlayAboveOfNonDziZoomToolbar) {\r\n      this.attributionsPositions = [\r\n        {\r\n          originX: 'end',\r\n          originY: 'top',\r\n          overlayX: 'end',\r\n          overlayY: 'bottom',\r\n        },\r\n      ];\r\n    }\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this._breakpointObserver\r\n      .observe(['(max-width: 440px)'])\r\n      .subscribe((isMobile) => {\r\n        if (isMobile.matches) {\r\n          this.length = 100;\r\n          this.isMobile = true;\r\n          this.dialogRef?.updateSize('100%', '100%');\r\n        } else {\r\n          this.length = 90;\r\n          this.isMobile = false;\r\n          this.dialogRef?.updateSize('90%', '90%');\r\n        }\r\n      });\r\n  }\r\n\r\n  public openDialog() {\r\n    if (this.mediaObject?.mediaType === 'image') {\r\n      this.dialogRef = this._dialog.open(this.matDialogComponent, {\r\n        maxWidth: '100vw',\r\n        width: this.length + '%',\r\n        height: this.length + '%',\r\n        maxHeight: '100vh',\r\n        panelClass: 'solid-core-media-dialog',\r\n        data: {\r\n          mediaObject: this.mediaObject,\r\n          name: this.name,\r\n          type: 'mediaObject',\r\n          hasNavigationInDialog: this.hasNavigationInDialog,\r\n        },\r\n      });\r\n      this.dialogRef.afterClosed().subscribe(() => {\r\n        this.closeDialogEventEmitter.emit();\r\n        if (this.dialogRef) {\r\n          this.dialogRef.close();\r\n        }\r\n      });\r\n      this.dialogRef.componentInstance.onNextEmitter.subscribe(() => {\r\n        this.NextDialogEmitter.emit();\r\n        this.openDialogRequest = false;\r\n      });\r\n      this.dialogRef.componentInstance.onPrevEmitter.subscribe(() => {\r\n        this.PrevDialogEmitter.emit();\r\n        this.openDialogRequest = false;\r\n      });\r\n    }\r\n  }\r\n\r\n  public openDialogImage() {\r\n    this.dialogRef = this._dialog.open(this.matDialogComponent, {\r\n      maxWidth: this.length + 'vw',\r\n      width: '100%',\r\n      height: '100%',\r\n      maxHeight: this.length + 'vh',\r\n      panelClass: 'solid-core-media-dialog',\r\n      data: {\r\n        image: this.image,\r\n        name: this.name,\r\n        type: 'photograph',\r\n      },\r\n    });\r\n    this.dialogRef.afterClosed().subscribe(() => {\r\n      this.closeDialogEventEmitter.emit();\r\n      if (this.dialogRef) {\r\n        this.dialogRef.close();\r\n      }\r\n    });\r\n  }\r\n\r\n  attributionsOpenClose() {\r\n    this.attributionsIsOpen = !this.attributionsIsOpen;\r\n    this.descriptionIsOpen = false;\r\n    if (this.attributionsIsOpen === true) {\r\n      this.scrollDispatcher.scrolled().subscribe(() => {\r\n        this.ngZone.run(() => {\r\n          this.attributionsIsOpen = false;\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  descriptionOpenClose() {\r\n    this.descriptionIsOpen = !this.descriptionIsOpen;\r\n    this.attributionsIsOpen = false;\r\n  }\r\n\r\n  toggleDescription() {\r\n    this.descriptionToggled = !this.descriptionToggled;\r\n    this.descriptionToggle.emit(this.descriptionToggled);\r\n  }\r\n}\r\n","<div\r\n  class=\"toolbar-container\"\r\n  [class.dzi]=\"hasDziTools\"\r\n  [class.isToolbarInDialog]=\"isToolbarInDialog\"\r\n>\r\n  <!-- <ng-container *ngIf=\"hasAudio\">\r\n    <solid-core-audio-toolbar\r\n      *ngIf=\"hasAudio\"\r\n      [audiosrc]=\"data.mediaObject.audiosrc\"\r\n      [description]=\"data.mediaObject.description\"\r\n    >\r\n    </solid-core-audio-toolbar>\r\n  </ng-container> -->\r\n  <div class=\"toolbar\" *ngIf=\"mediaObject\">\r\n    <button\r\n      *ngIf=\"hasDescription && mediaObject.description\"\r\n      mat-mini-fab\r\n      color=\"accent\"\r\n      cdkOverlayOrigin\r\n      #attributionsOverlayOrigin=\"cdkOverlayOrigin\"\r\n      (click)=\"descriptionOpenClose()\"\r\n    >\r\n      <mat-icon>description</mat-icon>\r\n      <ng-template\r\n        cdkConnectedOverlay\r\n        [cdkConnectedOverlayOrigin]=\"attributionsOverlayOrigin\"\r\n        [cdkConnectedOverlayOpen]=\"descriptionIsOpen\"\r\n        [cdkConnectedOverlayPositions]=\"attributionsPositions\"\r\n        [cdkConnectedOverlayScrollStrategy]=\"descriptionScrollStrategy\"\r\n        [cdkConnectedOverlayHasBackdrop]=\"true\"\r\n        (backdropClick)=\"descriptionOpenClose()\"\r\n      >\r\n        <div class=\"description-overlay\">\r\n          <div\r\n            class=\"description-container\"\r\n            markdown\r\n            [data]=\"mediaObject.description\"\r\n          ></div>\r\n        </div>\r\n      </ng-template>\r\n    </button>\r\n    <button\r\n      *ngIf=\"hasAttributions && mediaObject.attributions as attributions\"\r\n      mat-mini-fab\r\n      color=\"accent\"\r\n      cdkOverlayOrigin\r\n      #attributionsOverlayOrigin=\"cdkOverlayOrigin\"\r\n      (click)=\"attributionsOpenClose()\"\r\n      id=\"profile-copyright-btn\"\r\n    >\r\n      <mat-icon>copyright</mat-icon>\r\n      <ng-template\r\n        cdkConnectedOverlay\r\n        [cdkConnectedOverlayOrigin]=\"attributionsOverlayOrigin\"\r\n        [cdkConnectedOverlayOpen]=\"attributionsIsOpen\"\r\n        [cdkConnectedOverlayPositions]=\"attributionsPositions\"\r\n        [cdkConnectedOverlayScrollStrategy]=\"attributionsScrollStrategy\"\r\n        [cdkConnectedOverlayHasBackdrop]=\"true\"\r\n        (backdropClick)=\"attributionsOpenClose()\"\r\n      >\r\n        <div class=\"attributions-overlay\">{{ attributions }}</div>\r\n      </ng-template>\r\n    </button>\r\n    <!-- <button\r\n      *ngIf=\"hasDescriptionToggle\"\r\n      id=\"\"\r\n      mat-mini-fab\r\n      color=\"accent\"\r\n      (click)=\"toggleDescription()\"\r\n    >\r\n      <mat-icon>description</mat-icon>\r\n    </button> -->\r\n    <ng-container *ngIf=\"hasDziTools\">\r\n      <button id=\"zoom-in-button\" mat-mini-fab color=\"accent\">\r\n        <mat-icon>zoom_in</mat-icon>\r\n      </button>\r\n      <button id=\"zoom-out-button\" mat-mini-fab color=\"accent\">\r\n        <mat-icon>zoom_out</mat-icon>\r\n      </button>\r\n      <button id=\"home-button\" mat-mini-fab color=\"accent\">\r\n        <mat-icon>home</mat-icon>\r\n      </button>\r\n    </ng-container>\r\n    <button\r\n      *ngIf=\"hasDialog\"\r\n      mat-mini-fab\r\n      color=\"accent\"\r\n      (click)=\"openDialog()\"\r\n      id=\"profile-detail-btn\"\r\n    >\r\n      <mat-icon>more_horiz</mat-icon>\r\n    </button>\r\n  </div>\r\n\r\n  <!-- For Image in quiz -->\r\n  <div class=\"toolbar\" *ngIf=\"image\">\r\n    <button\r\n      *ngIf=\"hasDescription && image.description\"\r\n      mat-mini-fab\r\n      color=\"accent\"\r\n      cdkOverlayOrigin\r\n      #attributionsOverlayOrigin=\"cdkOverlayOrigin\"\r\n      (click)=\"descriptionOpenClose()\"\r\n    >\r\n      <mat-icon>description</mat-icon>\r\n      <ng-template\r\n        cdkConnectedOverlay\r\n        [cdkConnectedOverlayOrigin]=\"attributionsOverlayOrigin\"\r\n        [cdkConnectedOverlayOpen]=\"descriptionIsOpen\"\r\n        [cdkConnectedOverlayPositions]=\"attributionsPositions\"\r\n        [cdkConnectedOverlayScrollStrategy]=\"descriptionScrollStrategy\"\r\n        [cdkConnectedOverlayHasBackdrop]=\"true\"\r\n        (backdropClick)=\"descriptionOpenClose()\"\r\n      >\r\n        <div class=\"description-overlay\">\r\n          <div\r\n            class=\"description-container\"\r\n            markdown\r\n            [data]=\"image.description\"\r\n          ></div>\r\n        </div>\r\n      </ng-template>\r\n    </button>\r\n    <button\r\n      *ngIf=\"hasAttributions && image.attributions as attributions\"\r\n      mat-mini-fab\r\n      color=\"accent\"\r\n      cdkOverlayOrigin\r\n      #attributionsOverlayOrigin=\"cdkOverlayOrigin\"\r\n      (click)=\"attributionsOpenClose()\"\r\n      id=\"profile-copyright-btn\"\r\n    >\r\n      <mat-icon>copyright</mat-icon>\r\n      <ng-template\r\n        cdkConnectedOverlay\r\n        [cdkConnectedOverlayOrigin]=\"attributionsOverlayOrigin\"\r\n        [cdkConnectedOverlayOpen]=\"attributionsIsOpen\"\r\n        [cdkConnectedOverlayPositions]=\"attributionsPositions\"\r\n        [cdkConnectedOverlayScrollStrategy]=\"attributionsScrollStrategy\"\r\n        [cdkConnectedOverlayHasBackdrop]=\"true\"\r\n        (backdropClick)=\"attributionsOpenClose()\"\r\n      >\r\n        <div class=\"attributions-overlay\">{{ attributions }}</div>\r\n      </ng-template>\r\n    </button>\r\n    <!-- <button\r\n      *ngIf=\"hasDescriptionToggle\"\r\n      id=\"\"\r\n      mat-mini-fab\r\n      color=\"accent\"\r\n      (click)=\"toggleDescription()\"\r\n    >\r\n      <mat-icon>description</mat-icon>\r\n    </button> -->\r\n    <ng-container *ngIf=\"hasDziTools\">\r\n      <button id=\"zoom-in-button\" mat-mini-fab color=\"accent\">\r\n        <mat-icon>zoom_in</mat-icon>\r\n      </button>\r\n      <button id=\"zoom-out-button\" mat-mini-fab color=\"accent\">\r\n        <mat-icon>zoom_out</mat-icon>\r\n      </button>\r\n      <button id=\"home-button\" mat-mini-fab color=\"accent\">\r\n        <mat-icon>home</mat-icon>\r\n      </button>\r\n    </ng-container>\r\n    <button\r\n      *ngIf=\"hasDialog\"\r\n      mat-mini-fab\r\n      color=\"accent\"\r\n      (click)=\"openDialogImage()\"\r\n      id=\"profile-detail-btn\"\r\n    >\r\n      <mat-icon>more_horiz</mat-icon>\r\n    </button>\r\n  </div>\r\n</div>\r\n","import { BreakpointObserver } from '@angular/cdk/layout';\r\nimport {\r\n  Component,\r\n  Input,\r\n  Inject,\r\n  ViewChild,\r\n  OnDestroy,\r\n  OnChanges,\r\n  OnInit,\r\n  Output,\r\n  EventEmitter,\r\n} from '@angular/core';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { SOLID_CORE_CONFIG, SolidCoreConfig } from '../../solid-core-config';\r\nimport { MediaErrorDialogComponent } from '../media-error-dialog/media-error-dialog.component';\r\n\r\n@Component({\r\n  selector: 'solid-core-audio-toolbar',\r\n  templateUrl: './audio-toolbar.component.html',\r\n  styleUrls: ['./audio-toolbar.component.scss'],\r\n})\r\nexport class AudioToolbarComponent implements OnInit, OnDestroy, OnChanges {\r\n  @Input() public audiosrc!: string;\r\n  @Input() public description!: string;\r\n  @Input() public toolbar!: boolean;\r\n  @ViewChild('audioplayer', { static: false }) player?: {\r\n    nativeElement: HTMLAudioElement;\r\n  };\r\n  public audioLoaded = false;\r\n  public playing = false;\r\n  public playingStarted = false;\r\n  public playPositionString = '0:00/-:--';\r\n  public playPosition = 0;\r\n  public duration = 0;\r\n  public volume = 1;\r\n  public previousVolume = 0;\r\n  public isMuted = false;\r\n  public isMobile = false;\r\n  @Input() public playAudio = false;\r\n  @Output() audioErrorEventEmitter = new EventEmitter();\r\n  @Output() audioEndedEventEmitter = new EventEmitter();\r\n\r\n  constructor(\r\n    @Inject(SOLID_CORE_CONFIG) public coreConfig: SolidCoreConfig,\r\n    private _dialog: MatDialog,\r\n    private _breakpointObsever: BreakpointObserver\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this._breakpointObsever\r\n      .observe(['(max-width: 470px)'])\r\n      .subscribe((isMobile) => {\r\n        if (isMobile.matches) {\r\n          this.isMobile = true;\r\n        } else {\r\n          this.isMobile = false;\r\n        }\r\n      });\r\n  }\r\n\r\n  isIOS(): boolean {\r\n    return (\r\n      [\r\n        'iPad Simulator',\r\n        'iPhone Simulator',\r\n        'iPod Simulator',\r\n        'iPad',\r\n        'iPhone',\r\n        'iPod',\r\n      ].includes(navigator.platform) ||\r\n      navigator.userAgent.includes('iPad') ||\r\n      navigator.userAgent.includes('iPhone') ||\r\n      // iPad on iOS 13 detection\r\n      (navigator.userAgent.includes('Mac') && 'ontouchend' in document)\r\n    );\r\n  }\r\n\r\n  onPlayerReady(): void {\r\n    if (this.player) {\r\n      this.audioLoaded = true;\r\n      this.duration = this.player.nativeElement.duration;\r\n      this.playPosition = 0;\r\n      this.displayPlayPosition(0);\r\n    }\r\n  }\r\n\r\n  public onPlayPauseClick() {\r\n    if (this.player) {\r\n      if (this.playing) {\r\n        this.player.nativeElement.pause();\r\n      } else {\r\n        this.playingStarted = true;\r\n        this.player.nativeElement.play();\r\n      }\r\n    }\r\n    this.playing = !this.playing;\r\n  }\r\n\r\n  public onReplayClick() {\r\n    if (this.player) {\r\n      this.player.nativeElement.pause();\r\n      this.player.nativeElement.currentTime = 0;\r\n      this.player.nativeElement.play();\r\n      this.playing = true;\r\n    }\r\n  }\r\n\r\n  public onPlayerTimeUpdate() {\r\n    if (this.player) {\r\n      this.displayPlayPosition(this.player.nativeElement.currentTime);\r\n    }\r\n  }\r\n\r\n  public displayPlayPosition(currentTime: number) {\r\n    if (this.player) {\r\n      const durationSeconds = Math.floor(this.duration % 60);\r\n      const currentTimeSeconds = Math.floor(currentTime % 60);\r\n      this.playPositionString = `${Math.floor(currentTime / 60)}:${\r\n        currentTimeSeconds < 10 ? '0' + currentTimeSeconds : currentTimeSeconds\r\n      }/${Math.floor(this.duration / 60)}:${\r\n        durationSeconds < 10 ? '0' + durationSeconds : durationSeconds\r\n      }`;\r\n      this.playPosition = currentTime;\r\n      return;\r\n    }\r\n    this.playPosition = 0;\r\n  }\r\n\r\n  public onPositionChangeEnd(change: any) {\r\n    if (this.player) {\r\n      this.player.nativeElement.currentTime = change.value;\r\n    }\r\n  }\r\n\r\n  public onVolumeChangeEnd(change: any) {\r\n    if (this.player) {\r\n      this.isMuted = false;\r\n      this.player.nativeElement.volume = change.value;\r\n      this.volume = change.value;\r\n      if (change.value === 0) {\r\n        this.isMuted = true;\r\n      }\r\n    }\r\n  }\r\n\r\n  public onVolumeMutingToggle() {\r\n    if (this.player) {\r\n      this.isMuted = !this.isMuted;\r\n      if (this.isMuted) {\r\n        this.player.nativeElement.muted = true;\r\n        this.previousVolume = this.volume;\r\n        this.volume = 0;\r\n      } else {\r\n        this.player.nativeElement.muted = false;\r\n        this.volume = this.previousVolume;\r\n      }\r\n    }\r\n  }\r\n\r\n  public onPlayerMediaError() {\r\n    this.audioErrorEventEmitter.emit();\r\n    this.audioLoaded = false;\r\n    this._dialog.open(MediaErrorDialogComponent, {\r\n      data: {\r\n        title: 'Fehler',\r\n        content: 'Audiodatei konnte nicht geladen werden.',\r\n      },\r\n      panelClass: 'solid-core-media-error-dialog',\r\n    });\r\n    return;\r\n  }\r\n\r\n  public onPlayerEnded() {\r\n    if (this.player) {\r\n      this.audioEndedEventEmitter.emit();\r\n      this.playingStarted = false;\r\n      this.playing = false;\r\n      this.player.nativeElement.currentTime = 0;\r\n    }\r\n  }\r\n\r\n  ngOnChanges(): void {\r\n    if (this.playingStarted && this.player) {\r\n      this.playing = false;\r\n      this.audioLoaded = false;\r\n      this.playPositionString = '0:00/-:--';\r\n      this.playPosition = 0;\r\n    }\r\n    if (this.playAudio) this.onPlayPauseClick();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this.playingStarted && this.player) {\r\n      this.player.nativeElement.pause();\r\n    }\r\n  }\r\n}\r\n","<ng-container *ngIf=\"!toolbar\">\n  <button\n    (click)=\"onPlayPauseClick()\"\n    [disabled]=\"!audioLoaded\"\n    mat-mini-fab\n    color=\"accent\"\n  >\n    <mat-icon>{{ playing ? 'pause' : 'play_arrow' }}</mat-icon>\n  </button>\n</ng-container>\n<ng-container *ngIf=\"toolbar\">\n  <div class=\"toolbar\" [class.mobile]=\"isMobile\">\n    <button class=\"play-btn\" mat-icon-button (click)=\"onPlayPauseClick()\">\n      <mat-icon>{{ playing ? 'pause' : 'play_arrow' }}</mat-icon>\n    </button>\n    <button\n      mat-icon-button\n      [disabled]=\"!audioLoaded\"\n      (click)=\"onReplayClick()\"\n      class=\"replay-btn\"\n    >\n      <mat-icon>replay</mat-icon>\n    </button>\n    {{ playPositionString }}\n    <mat-slider\n      min=\"0\"\n      [max]=\"duration\"\n      step=\"1\"\n      [(ngModel)]=\"playPosition\"\n      [disabled]=\"!audioLoaded\"\n      (input)=\"onPositionChangeEnd($event)\"\n      class=\"playingSlider\"\n    ></mat-slider>\n    <button\n      mat-icon-button\n      [disabled]=\"!audioLoaded\"\n      (click)=\"onVolumeMutingToggle()\"\n      class=\"volume-btn\"\n    >\n      <mat-icon>{{ isMuted ? 'volume_off' : 'volume_up' }}</mat-icon>\n    </button>\n    <mat-slider\n      min=\"0\"\n      max=\"1\"\n      step=\"0.1\"\n      [(ngModel)]=\"volume\"\n      [disabled]=\"!audioLoaded\"\n      (input)=\"onVolumeChangeEnd($event)\"\n      class=\"volumeSlider\"\n      [class.disappear]=\"isIOS() || isMobile\"\n    >\n    </mat-slider>\n  </div>\n</ng-container>\n\n<audio\n  #audioplayer\n  (timeupdate)=\"onPlayerTimeUpdate()\"\n  (ended)=\"onPlayerEnded()\"\n  (loadeddata)=\"onPlayerReady()\"\n  [volume]=\"volume\"\n  (error)=\"onPlayerMediaError()\"\n  [src]=\"audiosrc\"\n></audio>\n","import { Component, Input, OnChanges } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'solid-core-audio-icon',\r\n  templateUrl: './audio-icon.component.svg',\r\n  styleUrls: ['./audio-icon.component.scss'],\r\n})\r\nexport class AudioIconComponent implements OnChanges {\r\n  @Input() title!: string;\r\n\r\n  ngOnChanges(): void {\r\n    this.shortenTitle();\r\n  }\r\n\r\n  shortenTitle() {\r\n    if (this.title.length > 14) {\r\n      this.title = this.title.slice(0, 14) + '...';\r\n    }\r\n  }\r\n}\r\n","<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\r\n<svg version=\"1.1\" id=\"Ebene_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\n\t viewBox=\"0 0 500 500\" enable-background=\"new 0 0 500 500\" xml:space=\"preserve\">\r\n<path d=\"M213.246,313.818c-1.962,0-3.553-1.592-3.553-3.553v-65.138c0-1.962,1.591-3.553,3.553-3.553s3.553,1.591,3.553,3.553\r\n\tv65.138C216.799,312.229,215.208,313.818,213.246,313.818z M231.124,298.88v-42.364c0-1.962-1.591-3.553-3.553-3.553\r\n\tc-1.962,0-3.553,1.592-3.553,3.553v42.364c0,1.962,1.591,3.554,3.553,3.554C229.533,302.434,231.124,300.842,231.124,298.88z\r\n\t M245.448,287.42v-19.445c0-1.961-1.591-3.553-3.553-3.553s-3.553,1.592-3.553,3.553v19.445c0,1.962,1.591,3.553,3.553,3.553\r\n\tS245.448,289.382,245.448,287.42z M188.149,287.42v-19.445c0-1.961-1.591-3.553-3.553-3.553c-1.962,0-3.553,1.592-3.553,3.553\r\n\tv19.445c0,1.962,1.591,3.553,3.553,3.553C186.558,290.973,188.149,289.382,188.149,287.42z M202.474,298.88v-42.364\r\n\tc0-1.962-1.591-3.553-3.553-3.553s-3.553,1.592-3.553,3.553v42.364c0,1.962,1.591,3.554,3.553,3.554S202.474,300.842,202.474,298.88\r\n\tz M288.31,307.25v-59.105c0-1.962-1.591-3.553-3.553-3.553s-3.553,1.591-3.553,3.553v59.105c0,1.962,1.591,3.553,3.553,3.553\r\n\tS288.31,309.212,288.31,307.25z M274.211,286.52v-17.645c0-1.962-1.591-3.553-3.553-3.553s-3.554,1.591-3.554,3.553v17.645\r\n\tc0,1.963,1.592,3.554,3.554,3.554S274.211,288.48,274.211,286.52z M302.747,299.41v-43.426c0-1.961-1.591-3.553-3.553-3.553\r\n\tc-1.963,0-3.553,1.592-3.553,3.553v43.426c0,1.962,1.59,3.553,3.553,3.553C301.156,302.963,302.747,301.372,302.747,299.41z\r\n\t M317.072,286.52v-17.645c0-1.962-1.591-3.553-3.554-3.553c-1.962,0-3.553,1.591-3.553,3.553v17.645\r\n\tc0,1.963,1.591,3.554,3.553,3.554C315.481,290.073,317.072,288.48,317.072,286.52z M259.772,296.918v-38.441\r\n\tc0-1.961-1.59-3.553-3.553-3.553c-1.962,0-3.553,1.592-3.553,3.553v38.441c0,1.962,1.591,3.553,3.553,3.553\r\n\tC258.183,300.471,259.772,298.88,259.772,296.918z M377.768,181.514c0.704,2.544,3.183,4.258,5.882,3.928\r\n\tc2.972-0.362,5.087-3.066,4.723-6.038c-2.013-16.485-7.404-32.657-15.391-47.5c-8.083-14.795-18.816-28.276-31.697-39.436\r\n\tc-12.85-11.185-27.789-20.078-43.857-26.078c-8.031-3.012-16.354-5.255-24.8-6.799c-8.454-1.507-17.039-2.255-25.615-2.288\r\n\tc-8.575,0.033-17.161,0.781-25.614,2.288c-8.446,1.544-16.768,3.787-24.799,6.799c-16.07,6-31.01,14.893-43.859,26.078\r\n\tc-12.88,11.16-23.613,24.641-31.697,39.436c-7.987,14.843-13.378,31.015-15.391,47.5c-0.323,2.619,1.309,5.152,3.929,5.881\r\n\tc2.885,0.801,5.873-0.888,6.675-3.773l0.009-0.03c4.11-14.792,10.268-28.821,18.587-41.36c8.194-12.606,18.505-23.676,30.166-32.842\r\n\tc11.681-9.152,24.795-16.349,38.705-21.156c6.953-2.399,14.089-4.255,21.341-5.444c7.242-1.226,14.59-1.846,21.948-1.832\r\n\tc7.358-0.014,14.706,0.606,21.949,1.832c7.251,1.189,14.388,3.045,21.343,5.444c13.908,4.807,27.021,12.004,38.703,21.156\r\n\tc11.661,9.166,21.974,20.236,30.165,32.842c8.318,12.539,14.479,26.568,18.589,41.36L377.768,181.514z M111.659,324.891\r\n\tc14.29,0,25.982-11.691,25.982-25.982v-71.019c0-14.291-11.692-25.983-25.982-25.983h-1.099c-14.291,0-25.983,11.692-25.983,25.983\r\n\tv71.019c0,14.291,11.692,25.982,25.983,25.982H111.659 M74.674,231.492c-11.672,7.548-19.052,18.59-19.052,30.908\r\n\tc0,12.317,7.382,23.354,19.052,30.904V231.492z M383.605,324.891h1.099c14.291,0,25.983-11.691,25.983-25.982v-71.019\r\n\tc0-14.291-11.692-25.983-25.983-25.983h-1.099c-14.29,0-25.982,11.692-25.982,25.983v71.019\r\n\tC357.623,313.198,369.315,324.891,383.605,324.891 M420.59,293.305c11.67-7.549,19.052-18.586,19.052-30.902\r\n\tc0-12.319-7.38-23.361-19.052-30.909V293.305z\"/>\r\n<rect id=\"rect\" y=\"383\" width=\"439.642\" height=\"81\"/>\r\n<rect id=\"rect\" x=\"469.004\" y=\"383\" width=\"30.67\" height=\"81\"/>\r\n<text transform=\"matrix(1 0 0 1 95.478 437.6035)\" font-family=\"'Roboto'\" font-weight=\"500\" font-size=\"45.0291\">{{title}}</text>\r\n<path d=\"M56.632,441.751c-0.718,0-1.417-0.213-2.02-0.616c-0.063-0.041-0.124-0.086-0.182-0.134l-13.398-10.949h-8.298\r\n\tc-2.012,0-3.648-1.637-3.648-3.647v-8.495c0-2.013,1.636-3.648,3.648-3.648h7.886l13.846-11.006\r\n\tc0.057-0.046,0.117-0.089,0.178-0.128c0.596-0.389,1.284-0.595,1.989-0.595c2.014,0,3.652,1.638,3.652,3.649V438.1\r\n\tC60.284,440.112,58.646,441.751,56.632,441.751z M33.751,425.386h7.654c0.725,0,1.426,0.213,2.028,0.616\r\n\tc0.062,0.041,0.121,0.085,0.178,0.132l12.007,9.813v-27.648l-12.463,9.907c-0.057,0.045-0.115,0.088-0.176,0.127\r\n\tc-0.594,0.39-1.284,0.594-1.994,0.594h-7.233L33.751,425.386L33.751,425.386z M70.037,434.06c2.917-1.646,7.257-6.179,7.257-11.919\r\n\tc0-5.738-4.34-10.271-7.257-11.918c-0.722-0.404-1.636-0.15-2.042,0.569c-0.406,0.72-0.152,1.635,0.569,2.042\r\n\tc2.217,1.251,5.733,4.883,5.733,9.307c0,4.425-3.516,8.059-5.733,9.309c-0.721,0.407-0.976,1.32-0.569,2.042\r\n\tc0.275,0.487,0.784,0.763,1.307,0.763C69.552,434.253,69.804,434.19,70.037,434.06z M67.86,426.431\r\n\tc1.497-0.698,3.108-2.508,3.108-4.825c0-2.316-1.611-4.125-3.108-4.824c-0.683-0.321-1.494-0.024-1.813,0.658\r\n\tc-0.319,0.683-0.024,1.494,0.658,1.813c0.638,0.298,1.536,1.227,1.536,2.354c0,1.129-0.898,2.058-1.536,2.354\r\n\tc-0.682,0.318-0.977,1.13-0.658,1.813c0.232,0.495,0.724,0.786,1.237,0.786C67.476,426.56,67.673,426.519,67.86,426.431z\r\n\t M72.032,439.202c5.273-2.466,10.611-9.118,10.611-17.063s-5.338-14.595-10.611-17.061c-0.682-0.32-1.495-0.024-1.813,0.657\r\n\tc-0.319,0.683-0.025,1.494,0.658,1.813c4.492,2.102,9.039,7.786,9.039,14.59c0,6.805-4.547,12.49-9.039,14.592\r\n\tc-0.683,0.318-0.977,1.131-0.658,1.813c0.231,0.495,0.723,0.786,1.236,0.786C71.648,439.331,71.845,439.29,72.032,439.202z\"/>\r\n</svg>\r\n","import {\r\n  Component,\r\n  EventEmitter,\r\n  Input,\r\n  OnChanges,\r\n  Output,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { ImageModel, MediaModel } from '../../models';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { MediaErrorDialogComponent } from '../media-error-dialog/media-error-dialog.component';\r\n\r\n@Component({\r\n  selector: 'solid-core-media-detail',\r\n  templateUrl: './media-detail.component.html',\r\n  styleUrls: ['./media-detail.component.scss'],\r\n})\r\nexport class MediaDetailComponent implements OnChanges {\r\n  @Input() image?: ImageModel;\r\n  @Input() mediaObject?: MediaModel;\r\n  @Input() hasDialog!: boolean;\r\n  @Input() hasAttributions!: boolean;\r\n  @Input() name!: string;\r\n  @Input() view?: string;\r\n  @Input() hasControlPanel!: boolean;\r\n  @Input() hasAudio!: boolean;\r\n  @Input() hasDescription!: boolean;\r\n  @Input() hasDescriptionToggle!: boolean;\r\n  @Input() slideshowPageChanged!: number;\r\n  @Input() hasNavigationInDialog!: boolean;\r\n  openDialogRequest?: boolean;\r\n\r\n  @ViewChild('videoplayer', { static: false }) videoplayer!: {\r\n    nativeElement: HTMLVideoElement;\r\n  };\r\n  private loadError = false;\r\n  public playButtonIsShown!: number;\r\n  public descriptionShow = false;\r\n\r\n  @Output() NextDialogEmitter = new EventEmitter();\r\n  @Output() PrevDialogEmitter = new EventEmitter();\r\n\r\n  constructor(private _dialog: MatDialog) {}\r\n\r\n  ngOnChanges(): void {\r\n    this.descriptionShow = false;\r\n  }\r\n\r\n  public togglePlay() {\r\n    if (this.loadError) {\r\n      this._dialog.open(MediaErrorDialogComponent, {\r\n        data: {\r\n          title: 'Fehler',\r\n          content: 'Datei konnte nicht geladen werden.',\r\n        },\r\n      });\r\n      return;\r\n    }\r\n    if (this.videoplayer) {\r\n      if (\r\n        this.videoplayer.nativeElement.paused ||\r\n        this.videoplayer.nativeElement.ended\r\n      ) {\r\n        this.videoplayer.nativeElement.play();\r\n      } else {\r\n        this.videoplayer.nativeElement.pause();\r\n      }\r\n    }\r\n  }\r\n\r\n  public setInvisible() {\r\n    this.playButtonIsShown = 0;\r\n  }\r\n  public setVisible() {\r\n    this.playButtonIsShown = 1;\r\n  }\r\n  public onPlayerEnded() {\r\n    if (this.videoplayer) {\r\n      this.playButtonIsShown = 1;\r\n      this.videoplayer.nativeElement.currentTime = 0;\r\n    }\r\n  }\r\n\r\n  public toggleDescription(descriptionToggle: boolean) {\r\n    descriptionToggle\r\n      ? (this.descriptionShow = true)\r\n      : (this.descriptionShow = false);\r\n  }\r\n\r\n  public handleOpenDialogClick() {\r\n    this.openDialogRequest = true;\r\n  }\r\n\r\n  handleCloseDialogEvent() {\r\n    this.openDialogRequest = false;\r\n  }\r\n}\r\n","<!-- For quiz image because the quiz question doesn't\r\ncontain any media object now. It is just a temporary solution.\r\nIt is not possible to use a image toolbar here, because quiz image\r\nuse the ImageModel, but now the image toolbar uses the MediaObjectModel -->\r\n<ng-container *ngIf=\"image\">\r\n  <div class=\"img-container\">\r\n    <img\r\n      [src]=\"image.getRawImage('large')\"\r\n      [alt]=\"image.alt\"\r\n      [class.landscape]=\"image.isLandscape\"\r\n      (click)=\"handleOpenDialogClick()\"\r\n    />\r\n  </div>\r\n  <solid-core-media-toolbar\r\n    *ngIf=\"view !== 'grid'\"\r\n    [image]=\"image\"\r\n    [name]=\"name\"\r\n    [hasAttributions]=\"hasAttributions\"\r\n    [hasDialog]=\"hasDialog\"\r\n    [hasDziTools]=\"false\"\r\n    [hasAudio]=\"hasAudio\"\r\n    [hasDescription]=\"hasDescription\"\r\n    [slideshowPageChanged]=\"slideshowPageChanged\"\r\n    [openDialogRequest]=\"openDialogRequest\"\r\n    (closeDialogEventEmitter)=\"handleCloseDialogEvent()\"\r\n  ></solid-core-media-toolbar>\r\n</ng-container>\r\n\r\n<!-- For media object in Profile -->\r\n<ng-container *ngIf=\"mediaObject\">\r\n  <ng-container [ngSwitch]=\"mediaObject.mediaType\">\r\n    <div class=\"media-container\" *ngSwitchCase=\"'image'\">\r\n      <div class=\"image-container\">\r\n        <img\r\n          *ngIf=\"view !== 'grid'; else grid\"\r\n          [src]=\"mediaObject.getRawImage('large')\"\r\n          [alt]=\"mediaObject.alt\"\r\n          [class.landscape]=\"mediaObject.isLandscape\"\r\n          (click)=\"handleOpenDialogClick()\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"media-container\" *ngSwitchCase=\"'audio'\">\r\n      <!-- <img\r\n        *ngIf=\"view != 'grid'; else grid\"\r\n        [src]=\"'assets/profile/planty_audio.svg'\"\r\n        [alt]=\"mediaObject.alt\"\r\n        [class.landscape]=\"mediaObject.isLandscape\"\r\n      /> -->\r\n      <div class=\"audio-container\">\r\n        <solid-core-audio-toolbar\r\n          *ngIf=\"view !== 'grid'\"\r\n          [audiosrc]=\"mediaObject.getSrc()!\"\r\n          [toolbar]=\"true\"\r\n        ></solid-core-audio-toolbar>\r\n      </div>\r\n      <div id=\"svg-description-container\">\r\n        <solid-core-audio-icon\r\n          *ngIf=\"!descriptionShow\"\r\n          [title]=\"mediaObject.getTitle\"\r\n        ></solid-core-audio-icon>\r\n        <div *ngIf=\"descriptionShow\" id=\"description-container\">\r\n          <div *ngIf=\"mediaObject.description\" id=\"description\">\r\n            <p markdown [data]=\"mediaObject.description!\"></p>\r\n          </div>\r\n          <div *ngIf=\"!mediaObject.description\" id=\"description\">\r\n            <p>Leider haben wir keine Beschreibung</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"media-container\" *ngSwitchCase=\"'video'\">\r\n      <div class=\"video-container\">\r\n        <video\r\n          #videoplayer\r\n          id=\"video\"\r\n          preload=\"metadata\"\r\n          [src]=\"mediaObject.getSrc()\"\r\n          controls\r\n          (ended)=\"onPlayerEnded()\"\r\n          (playing)=\"setInvisible()\"\r\n          (pause)=\"setVisible()\"\r\n        >\r\n          Your browser does not support the video tag.\r\n        </video>\r\n        <div class=\"play-button-wrapper\" (click)=\"togglePlay()\">\r\n          <div id=\"play-button-circle\" [style.opacity]=\"playButtonIsShown\">\r\n            <!-- SVG Play Button -->\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 80 80\">\r\n              <path\r\n                d=\"M40 0a40 40 0 1040 40A40 40 0 0040 0zM26 61.56V18.44L64 40z\"\r\n              />\r\n            </svg>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ng-container>\r\n\r\n  <solid-core-media-toolbar\r\n    *ngIf=\"view !== 'grid'\"\r\n    [mediaObject]=\"mediaObject\"\r\n    [name]=\"name\"\r\n    [hasAttributions]=\"hasAttributions\"\r\n    [hasDialog]=\"hasDialog\"\r\n    [hasDziTools]=\"false\"\r\n    [hasAudio]=\"hasAudio\"\r\n    [hasDescription]=\"hasDescription\"\r\n    [hasDescriptionToggle]=\"hasDescriptionToggle\"\r\n    (descriptionToggle)=\"toggleDescription($event)\"\r\n    [slideshowPageChanged]=\"slideshowPageChanged\"\r\n    [openDialogRequest]=\"openDialogRequest\"\r\n    (closeDialogEventEmitter)=\"handleCloseDialogEvent()\"\r\n    (NextDialogEmitter)=\"NextDialogEmitter.emit()\"\r\n    (PrevDialogEmitter)=\"PrevDialogEmitter.emit()\"\r\n    [hasNavigationInDialog]=\"hasNavigationInDialog\"\r\n  ></solid-core-media-toolbar>\r\n  <ng-template #grid>\r\n    <img\r\n      *ngIf=\"mediaObject.mediaType === 'image'\"\r\n      [src]=\"mediaObject.getRawImage('thumbnail')\"\r\n      [alt]=\"mediaObject.alt\"\r\n      [class.landscape]=\"mediaObject.isLandscape\"\r\n    />\r\n    <img\r\n      *ngIf=\"mediaObject.mediaType === 'audio'\"\r\n      [src]=\"'assets/profile/audio.svg'\"\r\n      [alt]=\"mediaObject.alt\"\r\n    />\r\n  </ng-template>\r\n</ng-container>\r\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\r\nimport { ImageModel, MediaModel } from '../../models';\r\n\r\n@Component({\r\n  selector: 'solid-core-media',\r\n  templateUrl: './media.component.html',\r\n  styleUrls: ['./media.component.scss'],\r\n})\r\nexport class MediaComponent {\r\n  @Input() image?: ImageModel;\r\n  @Input() mediaObject?: MediaModel;\r\n  @Input() hasDialog = true;\r\n  @Input() hasAttributions = true;\r\n  @Input() name!: string;\r\n  @Input() view?: string;\r\n  @Input() hasAudio!: boolean;\r\n  @Input() hasControlPanel = true;\r\n  @Input() hasDescription!: boolean;\r\n  @Input() hasDescriptionToggle!: boolean;\r\n  @Input() slideshowPageChanged!: number;\r\n  @Input() hasNavigationInDialog!: boolean;\r\n  @Output() NextDialogEmitter = new EventEmitter();\r\n  @Output() PrevDialogEmitter = new EventEmitter();\r\n}\r\n","<solid-core-media-detail\r\n  [mediaObject]=\"mediaObject\"\r\n  [image]=\"image\"\r\n  [name]=\"name\"\r\n  [hasDialog]=\"hasDialog\"\r\n  [hasAttributions]=\"hasAttributions\"\r\n  [view]=\"view\"\r\n  [hasAudio]=\"hasAudio\"\r\n  [hasControlPanel]=\"hasControlPanel\"\r\n  [hasDescription]=\"hasDescription\"\r\n  [hasDescriptionToggle]=\"hasDescriptionToggle\"\r\n  [slideshowPageChanged]=\"slideshowPageChanged\"\r\n  (NextDialogEmitter)=\"NextDialogEmitter.emit()\"\r\n  (PrevDialogEmitter)=\"PrevDialogEmitter.emit()\"\r\n  [hasNavigationInDialog]=\"hasNavigationInDialog\"\r\n></solid-core-media-detail>\r\n","import {\r\n  AfterViewInit,\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  HostListener,\r\n  Inject,\r\n  OnDestroy,\r\n  OnInit,\r\n  ViewChild,\r\n} from '@angular/core';\r\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { SOLID_CORE_CONFIG, SolidCoreConfig } from '../../solid-core-config';\r\nimport { Viewer } from 'openseadragon';\r\nimport OpenSeadragon from 'openseadragon';\r\nimport { BreakpointObserver } from '@angular/cdk/layout';\r\n\r\nexport enum APP {\r\n  DIVE = 'Div-e',\r\n}\r\n\r\n@Component({\r\n  selector: 'solid-core-media-dialog',\r\n  templateUrl: './media-dialog.component.html',\r\n  styleUrls: ['./media-dialog.component.scss'],\r\n})\r\nexport class MediaDialogComponent implements AfterViewInit, OnDestroy, OnInit {\r\n  public APP_NAME_DIVE = APP.DIVE;\r\n\r\n  private _viewer: Viewer | null = null;\r\n  public hasAudio = false;\r\n  public hasDescription = false;\r\n  isOverlayAbove = false;\r\n  audioStarted = false;\r\n  audioLoadError = false;\r\n  audioEnded = false;\r\n  expandUpDown = false;\r\n  audioCollapsed = false;\r\n  dziInitialized = false;\r\n  public onNextEmitter = new EventEmitter();\r\n  public onPrevEmitter = new EventEmitter();\r\n  @ViewChild('title_container', { static: false })\r\n  public title_container?: ElementRef;\r\n  title_container_width = 0;\r\n  title_width = 0;\r\n  public firstMovingAnimation = true;\r\n  public timeOut_1: any;\r\n  public timeOut_2: any;\r\n\r\n  constructor(\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    @Inject(MAT_DIALOG_DATA) public name: string,\r\n    @Inject(SOLID_CORE_CONFIG) public coreConfig: SolidCoreConfig,\r\n    private _breakpointObserver: BreakpointObserver\r\n  ) {}\r\n\r\n  public ngOnInit() {\r\n    this._breakpointObserver\r\n      .observe(['(max-width: 680px)'])\r\n      .subscribe((isMobile) => {\r\n        if (isMobile.matches) {\r\n          this.isOverlayAbove = true;\r\n        } else {\r\n          this.isOverlayAbove = false;\r\n        }\r\n      });\r\n    this._breakpointObserver\r\n      .observe(['(max-width: 680px)'])\r\n      .subscribe((expandUpDown) => {\r\n        if (expandUpDown.matches) {\r\n          this.expandUpDown = true;\r\n        } else {\r\n          this.expandUpDown = false;\r\n        }\r\n      });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    setTimeout(() => {\r\n      if (this.data.type === 'mediaObject') {\r\n        let dzi = this.data.mediaObject.deepZoomLink;\r\n        if (this.dziInitialized) {\r\n          this._viewer?.open(dzi);\r\n        } else {\r\n          if (dzi) {\r\n            if (!this.coreConfig.production) {\r\n              // TODO: This workaround is required for deepzoom in dev environments. It will not work with other cdn domains.\r\n              dzi = dzi.replace('https://cdn.geomat.uni-frankfurt.de', '');\r\n            }\r\n            this._viewer = OpenSeadragon({\r\n              id: 'dzi-container',\r\n              tileSources: dzi,\r\n              zoomInButton: 'zoom-in-button',\r\n              zoomOutButton: 'zoom-out-button',\r\n              homeButton: 'home-button',\r\n              showFullPageControl: false,\r\n              visibilityRatio: 1.0,\r\n              constrainDuringPan: true,\r\n            });\r\n          }\r\n        }\r\n        if (this.data.mediaObject.audiosrc) {\r\n          this.hasAudio = true;\r\n        } else {\r\n          this.hasAudio = false;\r\n        }\r\n        if (this.data.mediaObject.description) {\r\n          this.hasDescription = true;\r\n        } else {\r\n          this.hasDescription = false;\r\n        }\r\n        if (this.data.mediaObject.deepZoomLink) {\r\n          this.dziInitialized = true;\r\n        } else {\r\n          this.dziInitialized = false;\r\n        }\r\n      } else {\r\n        let dzi = this.data.image.deepZoomLink;\r\n\r\n        if (dzi) {\r\n          if (!this.coreConfig.production) {\r\n            // TODO: This workaround is required for deepzoom in dev environments. It will not work with other cdn domains.\r\n            dzi = dzi.replace('https://cdn.geomat.uni-frankfurt.de', '');\r\n          }\r\n          this._viewer = OpenSeadragon({\r\n            id: 'dzi-container',\r\n            tileSources: dzi,\r\n            zoomInButton: 'zoom-in-button',\r\n            zoomOutButton: 'zoom-out-button',\r\n            homeButton: 'home-button',\r\n            showFullPageControl: false,\r\n            visibilityRatio: 1.0,\r\n            constrainDuringPan: true,\r\n          });\r\n        }\r\n        if (this.data.image.audiosrc) {\r\n          this.hasAudio = true;\r\n        } else {\r\n          this.hasAudio = false;\r\n        }\r\n        if (this.data.image.description) {\r\n          this.hasDescription = true;\r\n        } else {\r\n          this.hasDescription = false;\r\n        }\r\n      }\r\n    }, 0);\r\n    this.handleLongTitle();\r\n  }\r\n\r\n  public handleLongTitle() {\r\n    clearTimeout(this.timeOut_1);\r\n    clearTimeout(this.timeOut_2);\r\n    this.timeOut_1 = setTimeout(() => {\r\n      this.firstMovingAnimation = true;\r\n      this.title_container_width =\r\n        this.title_container?.nativeElement.offsetWidth;\r\n      this.title_width =\r\n        this.title_container?.nativeElement.firstElementChild.offsetWidth;\r\n      if (this.title_container?.nativeElement.firstElementChild) {\r\n        this.timeOut_2 = setTimeout(() => {\r\n          this.firstMovingAnimation = false;\r\n        }, 10500);\r\n      }\r\n    }, 0);\r\n  }\r\n\r\n  @HostListener('window:resize', ['$event'])\r\n  public onResize() {\r\n    this.handleLongTitle();\r\n  }\r\n\r\n  handleAudioErrorEvent() {\r\n    this.audioLoadError = true;\r\n  }\r\n  handleAudioEndedEvent() {\r\n    this.audioStarted = false;\r\n    this.audioCollapsed = false;\r\n    this.audioEnded = true;\r\n  }\r\n\r\n  onNext() {\r\n    this.onNextEmitter.emit();\r\n    this.audioLoadError = false;\r\n    this.audioStarted = false;\r\n    this.audioCollapsed = false;\r\n    this.firstMovingAnimation = false;\r\n    this.ngAfterViewInit();\r\n  }\r\n\r\n  onPrev() {\r\n    this.onPrevEmitter.emit();\r\n    this.audioLoadError = false;\r\n    this.audioStarted = false;\r\n    this.audioCollapsed = false;\r\n    this.firstMovingAnimation = false;\r\n    this.ngAfterViewInit();\r\n  }\r\n\r\n  onPlayClick() {\r\n    this.audioEnded = false;\r\n    this.audioStarted = true;\r\n  }\r\n\r\n  onExpandCollapse() {\r\n    this.audioCollapsed = !this.audioCollapsed;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    if (this._viewer) {\r\n      this._viewer.destroy();\r\n    }\r\n  }\r\n}\r\n","<ng-container *ngIf=\"data.type === 'mediaObject'\">\r\n  <div mat-dialog-title class=\"mat-media-dialog-title\">\r\n    <div class=\"title-container\" #title_container>\r\n      <div\r\n        *ngIf=\"coreConfig.appName === this.APP_NAME_DIVE\"\r\n        class=\"title\"\r\n        [class.long-title]=\"\r\n          title_width >= title_container_width && firstMovingAnimation\r\n        \"\r\n        [class.long-title-1]=\"\r\n          title_width >= title_container_width && !firstMovingAnimation\r\n        \"\r\n      >\r\n        <div [data]=\"data.name\" style=\"display: inline\" markdown></div>\r\n        <span *ngIf=\"data.mediaObject.getTitle\" class=\"media-object-title\">\r\n          | {{ data.mediaObject.getTitle }}</span\r\n        >\r\n      </div>\r\n      <div\r\n        *ngIf=\"coreConfig.appName !== this.APP_NAME_DIVE\"\r\n        class=\"title\"\r\n        [class.long-title]=\"\r\n          title_width >= title_container_width && firstMovingAnimation\r\n        \"\r\n        [class.long-title-1]=\"\r\n          title_width >= title_container_width && !firstMovingAnimation\r\n        \"\r\n      >\r\n        {{ data.name }}\r\n        <span *ngIf=\"data.mediaObject.getTitle\" class=\"media-object-title\">\r\n          | {{ data.mediaObject.getTitle }}</span\r\n        >\r\n      </div>\r\n    </div>\r\n    <div>\r\n      <button class=\"closeBtn\" mat-icon-button mat-dialog-close>\r\n        <mat-icon>close</mat-icon>\r\n      </button>\r\n    </div>\r\n  </div>\r\n  <ng-container\r\n    *ngIf=\"data.mediaObject.deepZoomLink as dziFile; then deepZoom; else noZoom\"\r\n  ></ng-container>\r\n  <!-- I decide to keep it bcs we maybe need it in the future -->\r\n  <!-- <div id=\"description-container\" *ngIf=\"hasDescription\">\r\n  <span markdown [data]=\"data.mediaObject.description\"></span>\r\n  </div> -->\r\n  <ng-template #deepZoom>\r\n    <div mat-dialog-content>\r\n      <div id=\"dzi-container\"></div>\r\n      <button\r\n        *ngIf=\"data.hasNavigationInDialog\"\r\n        mat-mini-fab\r\n        color=\"accent\"\r\n        class=\"button-before\"\r\n        (click)=\"onPrev()\"\r\n      >\r\n        <mat-icon aria-label=\"Vorheriger Schritt\">navigate_before</mat-icon>\r\n      </button>\r\n      <button\r\n        *ngIf=\"data.hasNavigationInDialog\"\r\n        class=\"button-next\"\r\n        mat-mini-fab\r\n        color=\"accent\"\r\n        (click)=\"onNext()\"\r\n      >\r\n        <mat-icon aria-label=\"Nächster Schritt\">navigate_next</mat-icon>\r\n      </button>\r\n      <div class=\"toolbar-container\">\r\n        <div class=\"spacer\"></div>\r\n        <solid-core-audio-toolbar\r\n          *ngIf=\"hasAudio\"\r\n          [audiosrc]=\"data.mediaObject.audiosrc\"\r\n          [toolbar]=\"true\"\r\n          [class.openAudioToolbar]=\"\r\n            audioStarted && !audioEnded && !audioCollapsed\r\n          \"\r\n          [playAudio]=\"audioStarted\"\r\n          (audioErrorEventEmitter)=\"handleAudioErrorEvent()\"\r\n          (audioEndedEventEmitter)=\"handleAudioEndedEvent()\"\r\n        ></solid-core-audio-toolbar>\r\n        <div class=\"dialog-toolbar\">\r\n          <button\r\n            *ngIf=\"hasAudio\"\r\n            (click)=\"onPlayClick()\"\r\n            mat-mini-fab\r\n            color=\"accent\"\r\n            [disabled]=\"audioLoadError\"\r\n            [class.disappear]=\"audioStarted && !audioEnded\"\r\n          >\r\n            <mat-icon>headphones</mat-icon>\r\n          </button>\r\n          <button\r\n            *ngIf=\"audioStarted && expandUpDown\"\r\n            (click)=\"onExpandCollapse()\"\r\n            mat-mini-fab\r\n            color=\"accent\"\r\n            [disabled]=\"audioLoadError\"\r\n          >\r\n            <mat-icon>{{\r\n              audioCollapsed ? 'headphones' : 'expand_less'\r\n            }}</mat-icon>\r\n          </button>\r\n          <button\r\n            *ngIf=\"audioStarted && !expandUpDown\"\r\n            (click)=\"onExpandCollapse()\"\r\n            mat-mini-fab\r\n            color=\"accent\"\r\n            [disabled]=\"audioLoadError\"\r\n          >\r\n            <mat-icon>{{\r\n              audioCollapsed ? 'headphones' : 'chevron_right'\r\n            }}</mat-icon>\r\n          </button>\r\n          <solid-core-media-toolbar\r\n            [mediaObject]=\"data.mediaObject\"\r\n            [hasAttributions]=\"true\"\r\n            [hasDialog]=\"false\"\r\n            [hasDziTools]=\"true\"\r\n            [data]=\"data\"\r\n            [isOverlayAboveOfDziZoomToolbar]=\"isOverlayAbove\"\r\n            [hasDescription]=\"hasDescription\"\r\n          ></solid-core-media-toolbar>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ng-template>\r\n\r\n  <ng-template #noZoom>\r\n    <div mat-dialog-content>\r\n      <div class=\"image\">\r\n        <img\r\n          [src]=\"data.mediaObject.getRawImage('large')\"\r\n          [alt]=\"data.mediaObject.alt\"\r\n          [class.landscape]=\"data.mediaObject.isLandscape\"\r\n        />\r\n      </div>\r\n      <button\r\n        *ngIf=\"data.hasNavigationInDialog\"\r\n        mat-mini-fab\r\n        color=\"accent\"\r\n        class=\"button-before\"\r\n        (click)=\"onPrev()\"\r\n      >\r\n        <mat-icon aria-label=\"Vorheriger Schritt\">navigate_before</mat-icon>\r\n      </button>\r\n      <button\r\n        *ngIf=\"data.hasNavigationInDialog\"\r\n        class=\"button-next\"\r\n        mat-mini-fab\r\n        color=\"accent\"\r\n        (click)=\"onNext()\"\r\n      >\r\n        <mat-icon aria-label=\"Nächster Schritt\">navigate_next</mat-icon>\r\n      </button>\r\n      <div class=\"toolbar-container\">\r\n        <div class=\"spacer\"></div>\r\n        <solid-core-audio-toolbar\r\n          class=\"audio-toolbar\"\r\n          *ngIf=\"hasAudio\"\r\n          [audiosrc]=\"data.mediaObject.audiosrc\"\r\n          [toolbar]=\"true\"\r\n          [class.openAudioToolbar]=\"\r\n            audioStarted && !audioEnded && !audioCollapsed\r\n          \"\r\n          [playAudio]=\"audioStarted\"\r\n          (audioErrorEventEmitter)=\"handleAudioErrorEvent()\"\r\n          (audioEndedEventEmitter)=\"handleAudioEndedEvent()\"\r\n        ></solid-core-audio-toolbar>\r\n        <div class=\"dialog-toolbar\">\r\n          <button\r\n            *ngIf=\"hasAudio\"\r\n            (click)=\"onPlayClick()\"\r\n            mat-mini-fab\r\n            color=\"accent\"\r\n            [disabled]=\"audioLoadError\"\r\n            [class.disappear]=\"audioStarted && !audioEnded\"\r\n          >\r\n            <mat-icon>headphones</mat-icon>\r\n          </button>\r\n          <button\r\n            *ngIf=\"audioStarted && expandUpDown\"\r\n            (click)=\"onExpandCollapse()\"\r\n            mat-mini-fab\r\n            color=\"accent\"\r\n            [disabled]=\"audioLoadError\"\r\n          >\r\n            <mat-icon>{{\r\n              audioCollapsed ? 'headphones' : 'expand_less'\r\n            }}</mat-icon>\r\n          </button>\r\n          <button\r\n            *ngIf=\"audioStarted && !expandUpDown\"\r\n            (click)=\"onExpandCollapse()\"\r\n            mat-mini-fab\r\n            color=\"accent\"\r\n            [disabled]=\"audioLoadError\"\r\n          >\r\n            <mat-icon>{{\r\n              audioCollapsed ? 'headphones' : 'chevron_right'\r\n            }}</mat-icon>\r\n          </button>\r\n          <solid-core-media-toolbar\r\n            [mediaObject]=\"data.mediaObject\"\r\n            [hasAttributions]=\"true\"\r\n            [hasDialog]=\"false\"\r\n            [hasDziTools]=\"false\"\r\n            [data]=\"data\"\r\n            [isOverlayAboveOfNonDziZoomToolbar]=\"isOverlayAbove\"\r\n            [hasDescription]=\"hasDescription\"\r\n            [isToolbarInDialog]=\"true\"\r\n          ></solid-core-media-toolbar>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ng-template>\r\n</ng-container>\r\n\r\n<ng-container *ngIf=\"data.type === 'photograph'\">\r\n  <div mat-dialog-title class=\"mat-dialog-title\">\r\n    <div class=\"title-container\" #title_container>\r\n      <div\r\n        [class.long-title]=\"\r\n          title_width >= title_container_width && firstMovingAnimation\r\n        \"\r\n        [class.long-title-1]=\"\r\n          title_width >= title_container_width && !firstMovingAnimation\r\n        \"\r\n      >\r\n        {{ data.name }}\r\n        <span *ngIf=\"data.image.getTitle\" class=\"media-object-title\">\r\n          - {{ data.image.getTitle }}</span\r\n        >\r\n      </div>\r\n    </div>\r\n    <button mat-icon-button mat-dialog-close>\r\n      <mat-icon>close</mat-icon>\r\n    </button>\r\n  </div>\r\n  <ng-container\r\n    *ngIf=\"data.image.deepZoomLink as dziFile; then deepZoom; else noZoom\"\r\n  ></ng-container>\r\n  <ng-template #deepZoom>\r\n    <div mat-dialog-content>\r\n      <div id=\"dzi-container\"></div>\r\n      <div class=\"toolbar-container\">\r\n        <div class=\"spacer\"></div>\r\n        <solid-core-audio-toolbar\r\n          *ngIf=\"hasAudio\"\r\n          [audiosrc]=\"data.image.audiosrc\"\r\n          [toolbar]=\"true\"\r\n          [class.openAudioToolbar]=\"\r\n            audioStarted && !audioEnded && !audioCollapsed\r\n          \"\r\n          [playAudio]=\"audioStarted\"\r\n          (audioErrorEventEmitter)=\"handleAudioErrorEvent()\"\r\n          (audioEndedEventEmitter)=\"handleAudioEndedEvent()\"\r\n        >\r\n        </solid-core-audio-toolbar>\r\n        <div class=\"dialog-toolbar\">\r\n          <button\r\n            *ngIf=\"hasAudio\"\r\n            (click)=\"onPlayClick()\"\r\n            mat-mini-fab\r\n            color=\"accent\"\r\n            [disabled]=\"audioLoadError\"\r\n            [class.disappear]=\"audioStarted && !audioEnded\"\r\n          >\r\n            <mat-icon>headphones</mat-icon>\r\n          </button>\r\n          <button\r\n            *ngIf=\"audioStarted && expandUpDown\"\r\n            (click)=\"onExpandCollapse()\"\r\n            mat-mini-fab\r\n            color=\"accent\"\r\n            [disabled]=\"audioLoadError\"\r\n          >\r\n            <mat-icon>{{\r\n              audioCollapsed ? 'headphones' : 'expand_less'\r\n            }}</mat-icon>\r\n          </button>\r\n          <button\r\n            *ngIf=\"audioStarted && !expandUpDown\"\r\n            (click)=\"onExpandCollapse()\"\r\n            mat-mini-fab\r\n            color=\"accent\"\r\n            [disabled]=\"audioLoadError\"\r\n          >\r\n            <mat-icon>{{\r\n              audioCollapsed ? 'headphones' : 'chevron_right'\r\n            }}</mat-icon>\r\n          </button>\r\n          <solid-core-media-toolbar\r\n            [image]=\"data.image\"\r\n            [hasAttributions]=\"true\"\r\n            [hasDialog]=\"false\"\r\n            [hasDziTools]=\"true\"\r\n            [data]=\"data\"\r\n            [isOverlayAboveOfDziZoomToolbar]=\"isOverlayAbove\"\r\n            [hasDescription]=\"hasDescription\"\r\n          ></solid-core-media-toolbar>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ng-template>\r\n  <ng-template #noZoom>\r\n    <div mat-dialog-content>\r\n      <div class=\"image\">\r\n        <img\r\n          [src]=\"data.image.getRawImage('large')\"\r\n          [alt]=\"data.image.alt\"\r\n          [class.landscape]=\"data.image.isLandscape\"\r\n        />\r\n      </div>\r\n      <div class=\"toolbar-container\">\r\n        <solid-core-audio-toolbar\r\n          *ngIf=\"hasAudio\"\r\n          [audiosrc]=\"data.image.audiosrc\"\r\n          [toolbar]=\"true\"\r\n          [class.openAudioToolbar]=\"\r\n            audioStarted && !audioEnded && !audioCollapsed\r\n          \"\r\n          [playAudio]=\"audioStarted\"\r\n          (audioErrorEventEmitter)=\"handleAudioErrorEvent()\"\r\n          (audioEndedEventEmitter)=\"handleAudioEndedEvent()\"\r\n        >\r\n        </solid-core-audio-toolbar>\r\n        <div class=\"spacer\"></div>\r\n        <div class=\"dialog-toolbar\">\r\n          <button\r\n            *ngIf=\"hasAudio\"\r\n            (click)=\"onPlayClick()\"\r\n            mat-mini-fab\r\n            color=\"accent\"\r\n            [disabled]=\"audioLoadError\"\r\n            [class.disappear]=\"audioStarted && !audioEnded\"\r\n          >\r\n            <mat-icon>headphones</mat-icon>\r\n          </button>\r\n          <button\r\n            *ngIf=\"audioStarted && expandUpDown\"\r\n            (click)=\"onExpandCollapse()\"\r\n            mat-mini-fab\r\n            color=\"accent\"\r\n            [disabled]=\"audioLoadError\"\r\n          >\r\n            <mat-icon>{{\r\n              audioCollapsed ? 'headphones' : 'expand_less'\r\n            }}</mat-icon>\r\n          </button>\r\n          <button\r\n            *ngIf=\"audioStarted && !expandUpDown\"\r\n            (click)=\"onExpandCollapse()\"\r\n            mat-mini-fab\r\n            color=\"accent\"\r\n            [disabled]=\"audioLoadError\"\r\n          >\r\n            <mat-icon>{{\r\n              audioCollapsed ? 'headphones' : 'chevron_right'\r\n            }}</mat-icon>\r\n          </button>\r\n          <solid-core-media-toolbar\r\n            [image]=\"data.image\"\r\n            [hasAttributions]=\"true\"\r\n            [hasDialog]=\"false\"\r\n            [hasDziTools]=\"false\"\r\n            [data]=\"data\"\r\n            [isOverlayAboveOfNonDziZoomToolbar]=\"isOverlayAbove\"\r\n            [hasDescription]=\"hasDescription\"\r\n            [isToolbarInDialog]=\"true\"\r\n          ></solid-core-media-toolbar>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </ng-template>\r\n</ng-container>\r\n","import { ModuleWithProviders, NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MarkdownService } from './services/markdown.service';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { SOLID_CORE_CONFIG, SolidCoreConfig } from './solid-core-config';\r\nimport { RouteReuseStrategy } from '@angular/router';\r\nimport { CustomRouteReuseStrategy } from './custom-route-reuse-strategy';\r\nimport { RouterStateSerializer } from '@ngxs/router-plugin';\r\nimport { CustomRouterStateSerializer } from './custom-router-state-serializer';\r\nimport { TitleService } from './services/title.service';\r\nimport { MarkdownComponent, MediaComponent } from './components';\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatSliderModule } from '@angular/material/slider';\r\nimport { MediaDialogComponent } from './components/media-dialog/media-dialog.component';\r\nimport { MediaErrorDialogComponent } from './components/media-error-dialog/media-error-dialog.component';\r\nimport { MediaDetailComponent } from './components/media-detail/media-detail.component';\r\nimport { MatDialogModule } from '@angular/material/dialog';\r\nimport { ScrollingModule } from '@angular/cdk/scrolling';\r\nimport { MediaToolbarComponent } from './components/media-toolbar/media-toolbar.component';\r\nimport { AudioToolbarComponent } from './components/audio-toolbar/audio-toolbar.component';\r\nimport { AudioIconComponent } from './components/audio-icon/audio-icon.component';\r\nimport { MEDIA_DIALOG_TOKEN } from './media-dialog-token';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MarkdownComponent,\r\n    MediaComponent,\r\n    MediaDialogComponent,\r\n    MediaErrorDialogComponent,\r\n    MediaDetailComponent,\r\n    MediaToolbarComponent,\r\n    AudioToolbarComponent,\r\n    AudioIconComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    HttpClientModule,\r\n    ReactiveFormsModule,\r\n    OverlayModule,\r\n    MatIconModule,\r\n    MatButtonModule,\r\n    MatDialogModule,\r\n    ScrollingModule,\r\n    MatSliderModule,\r\n  ],\r\n  exports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    HttpClientModule,\r\n    ReactiveFormsModule,\r\n    MarkdownComponent,\r\n    MediaComponent,\r\n    ScrollingModule,\r\n  ],\r\n  providers: [MarkdownService, TitleService],\r\n})\r\nexport class SolidCoreModule {\r\n  // eslint-disable-next-line @typescript-eslint/no-empty-function\r\n  constructor(title: TitleService) {}\r\n\r\n  public static forRoot(\r\n    config: SolidCoreConfig\r\n  ): ModuleWithProviders<SolidCoreModule> {\r\n    return {\r\n      ngModule: SolidCoreModule,\r\n      providers: [\r\n        {\r\n          provide: SOLID_CORE_CONFIG,\r\n          useValue: config,\r\n        },\r\n        {\r\n          provide: RouteReuseStrategy,\r\n          useClass: CustomRouteReuseStrategy,\r\n        },\r\n        {\r\n          provide: RouterStateSerializer,\r\n          useClass: CustomRouterStateSerializer,\r\n        },\r\n        {\r\n          provide: MEDIA_DIALOG_TOKEN,\r\n          useValue: MediaDialogComponent,\r\n        },\r\n      ],\r\n    };\r\n  }\r\n}\r\n","// Process $overline$\r\n\r\n// same as UNESCAPE_MD_RE plus a space\r\nconst UNESCAPE_RE = /\\\\([ \\\\!\"#$%&'()*+,./:;<=>?@[\\]^_`{|}$-])/g;\r\n\r\nfunction subscript(state: any, silent: any) {\r\n  let found, token;\r\n  const max = state.posMax,\r\n    start = state.pos;\r\n\r\n  if (state.src.charCodeAt(start) !== 0x24 /* $ */) {\r\n    return false;\r\n  }\r\n  if (silent) {\r\n    return false;\r\n  } // don't run any pairs in validation mode\r\n  if (start + 2 >= max) {\r\n    return false;\r\n  }\r\n\r\n  state.pos = start + 1;\r\n\r\n  while (state.pos < max) {\r\n    if (state.src.charCodeAt(state.pos) === 0x24 /* $ */) {\r\n      found = true;\r\n      break;\r\n    }\r\n\r\n    state.md.inline.skipToken(state);\r\n  }\r\n\r\n  if (!found || start + 1 === state.pos) {\r\n    state.pos = start;\r\n    return false;\r\n  }\r\n\r\n  const content = state.src.slice(start + 1, state.pos);\r\n\r\n  // don't allow unescaped spaces/newlines inside\r\n  if (content.match(/(^|[^\\\\])(\\\\\\\\)*\\s/)) {\r\n    state.pos = start;\r\n    return false;\r\n  }\r\n\r\n  // found!\r\n  state.posMax = state.pos;\r\n  state.pos = start + 1;\r\n\r\n  // Earlier we checked !silent, but this implementation does not need it\r\n  token = state.push('over_open', 'span', 1);\r\n  token.attrPush(['class', 'md-overline']);\r\n  token.markup = '$';\r\n\r\n  token = state.push('text', '', 0);\r\n  token.content = content.replace(UNESCAPE_RE, '$1');\r\n\r\n  token = state.push('over_close', 'span', -1);\r\n  token.markup = '$';\r\n\r\n  state.pos = state.posMax + 1;\r\n  state.posMax = max;\r\n  return true;\r\n}\r\n\r\nexport function overlinePlugin(md: any) {\r\n  md.inline.ruler.after('emphasis', 'over', subscript);\r\n}\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["i1.MarkdownService","i1","i2","i3","i4","i7.MarkdownComponent","i3.MarkdownComponent","i4.MediaToolbarComponent","i5.AudioToolbarComponent","i6.AudioIconComponent","i1.MediaDetailComponent","i5","i6.MarkdownComponent","i7.MediaToolbarComponent","i8.AudioToolbarComponent","i1.TitleService"],"mappings":"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"}