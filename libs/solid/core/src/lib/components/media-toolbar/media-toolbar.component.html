<div
  class="toolbar-container"
  [class.dzi]="hasDziTools"
  [class.isToolbarInDialog]="isToolbarInDialog"
>
  <!-- <ng-container *ngIf="hasAudio && !isToolbarInDialog">
    <solid-core-audio-toolbar
      *ngIf="hasAudio"
      [audiosrc]="data.mediaObject.audiosrc"
    >
    </solid-core-audio-toolbar>
  </ng-container> -->
  <div class="toolbar-container" *ngIf="mediaObject">
    <solid-core-audio-toolbar
      *ngIf="hasAudio && !isToolbarInDialog && !hasDziTools"
      [audiosrc]="data.mediaObject.audiosrc"
      [toolbar]="true"
      [class.openAudioToolbar]="audioStarted && !audioEnded && !audioCollapsed"
      [playAudio]="audioStarted"
      (audioErrorEventEmitter)="handleAudioErrorEvent()"
      (audioEndedEventEmitter)="handleAudioEndedEvent()"
    ></solid-core-audio-toolbar>

    <button
      *ngIf="hasDialog && mediaObject.audiosrc"
      (click)="onPlayClick()"
      mat-mini-fab
      color="accent"
      [disabled]="audioLoadError"
      [class.disappear]="audioStarted && !audioEnded"
    >
      <mat-icon>headphones</mat-icon>
    </button>
    <button
      *ngIf="audioStarted && expandUpDown"
      (click)="onExpandCollapse()"
      mat-mini-fab
      color="accent"
      [disabled]="audioLoadError"
    >
      <mat-icon>{{ audioCollapsed ? 'headphones' : 'expand_less' }}</mat-icon>
    </button>
    <button
      *ngIf="audioStarted && !expandUpDown"
      (click)="onExpandCollapse()"
      mat-mini-fab
      color="accent"
      [disabled]="audioLoadError"
    >
      <mat-icon>{{ audioCollapsed ? 'headphones' : 'chevron_right' }}</mat-icon>
    </button>
    <button
      *ngIf="mediaObject.description"
      mat-mini-fab
      color="accent"
      cdkOverlayOrigin
      #attributionsOverlayOrigin="cdkOverlayOrigin"
      (click)="descriptionOpenClose()"
    >
      <mat-icon>description</mat-icon>
      <ng-template
        cdkConnectedOverlay
        [cdkConnectedOverlayOrigin]="attributionsOverlayOrigin"
        [cdkConnectedOverlayOpen]="descriptionIsOpen"
        [cdkConnectedOverlayPositions]="attributionsPositions"
        [cdkConnectedOverlayScrollStrategy]="descriptionScrollStrategy"
        [cdkConnectedOverlayHasBackdrop]="true"
        (backdropClick)="descriptionOpenClose()"
      >
        <div class="description-overlay">
          <div
            class="description-container"
            markdown
            [data]="mediaObject.description"
          ></div>
        </div>
      </ng-template>
    </button>
    <button
      *ngIf="hasAttributions && mediaObject.attributions as attributions"
      mat-mini-fab
      color="accent"
      cdkOverlayOrigin
      #attributionsOverlayOrigin="cdkOverlayOrigin"
      (click)="attributionsOpenClose()"
      id="profile-copyright-btn"
    >
      <mat-icon>copyright</mat-icon>
      <ng-template
        cdkConnectedOverlay
        [cdkConnectedOverlayOrigin]="attributionsOverlayOrigin"
        [cdkConnectedOverlayOpen]="attributionsIsOpen"
        [cdkConnectedOverlayPositions]="attributionsPositions"
        [cdkConnectedOverlayScrollStrategy]="attributionsScrollStrategy"
        [cdkConnectedOverlayHasBackdrop]="true"
        (backdropClick)="attributionsOpenClose()"
      >
        <div class="attributions-overlay">{{ attributions }}</div>
      </ng-template>
    </button>
    <!-- <button
      *ngIf="hasDescriptionToggle"
      id=""
      mat-mini-fab
      color="accent"
      (click)="toggleDescription()"
    >
      <mat-icon>description</mat-icon>
    </button> -->
    <ng-container *ngIf="hasDziTools">
      <button id="zoom-in-button" mat-mini-fab color="accent">
        <mat-icon>zoom_in</mat-icon>
      </button>
      <button id="zoom-out-button" mat-mini-fab color="accent">
        <mat-icon>zoom_out</mat-icon>
      </button>
      <button id="home-button" mat-mini-fab color="accent">
        <mat-icon>home</mat-icon>
      </button>
    </ng-container>
    <button
      *ngIf="hasDialog"
      mat-mini-fab
      color="accent"
      (click)="openDialog()"
      id="profile-detail-btn"
    >
      <mat-icon>more_horiz</mat-icon>
    </button>
  </div>
  <!-- For Image in quiz -->
  <div class="toolbar" *ngIf="image">
    <button
      *ngIf="hasDescription && image.description"
      mat-mini-fab
      color="accent"
      cdkOverlayOrigin
      #attributionsOverlayOrigin="cdkOverlayOrigin"
      (click)="descriptionOpenClose()"
    >
      <mat-icon>description</mat-icon>
      <ng-template
        cdkConnectedOverlay
        [cdkConnectedOverlayOrigin]="attributionsOverlayOrigin"
        [cdkConnectedOverlayOpen]="descriptionIsOpen"
        [cdkConnectedOverlayPositions]="attributionsPositions"
        [cdkConnectedOverlayScrollStrategy]="descriptionScrollStrategy"
        [cdkConnectedOverlayHasBackdrop]="true"
        (backdropClick)="descriptionOpenClose()"
      >
        <div class="description-overlay">
          <div
            class="description-container"
            markdown
            [data]="image.description"
          ></div>
        </div>
      </ng-template>
    </button>
    <button
      *ngIf="hasAttributions && image.attributions as attributions"
      mat-mini-fab
      color="accent"
      cdkOverlayOrigin
      #attributionsOverlayOrigin="cdkOverlayOrigin"
      (click)="attributionsOpenClose()"
      id="profile-copyright-btn"
    >
      <mat-icon>copyright</mat-icon>
      <ng-template
        cdkConnectedOverlay
        [cdkConnectedOverlayOrigin]="attributionsOverlayOrigin"
        [cdkConnectedOverlayOpen]="attributionsIsOpen"
        [cdkConnectedOverlayPositions]="attributionsPositions"
        [cdkConnectedOverlayScrollStrategy]="attributionsScrollStrategy"
        [cdkConnectedOverlayHasBackdrop]="true"
        (backdropClick)="attributionsOpenClose()"
      >
        <div class="attributions-overlay">{{ attributions }}</div>
      </ng-template>
    </button>
    <!-- <button
      *ngIf="hasDescriptionToggle"
      id=""
      mat-mini-fab
      color="accent"
      (click)="toggleDescription()"
    >
      <mat-icon>description</mat-icon>
    </button> -->
    <ng-container *ngIf="hasDziTools">
      <button id="zoom-in-button" mat-mini-fab color="accent">
        <mat-icon>zoom_in</mat-icon>
      </button>
      <button id="zoom-out-button" mat-mini-fab color="accent">
        <mat-icon>zoom_out</mat-icon>
      </button>
      <button id="home-button" mat-mini-fab color="accent">
        <mat-icon>home</mat-icon>
      </button>
    </ng-container>
    <button
      *ngIf="hasDialog"
      mat-mini-fab
      color="accent"
      (click)="openDialogImage()"
      id="profile-detail-btn"
    >
      <mat-icon>more_horiz</mat-icon>
    </button>
  </div>
</div>
