<ng-container *ngIf="!toolbar">
  <button (click)="onPlayPauseClick()" mat-mini-fab color="accent">
    <mat-icon>{{ playing ? 'pause' : 'play_arrow' }}</mat-icon>
  </button>
</ng-container>

<ng-container *ngIf="toolbar">
  <div class="toolbar">
    <button
      mat-icon-button
      [disabled]="!audioLoaded"
      (click)="onPlayPauseClick()"
    >
      <mat-icon>{{ playing ? 'pause' : 'play_arrow' }}</mat-icon>
    </button>
    <button mat-icon-button [disabled]="!audioLoaded" (click)="onReplayClick()">
      <mat-icon>replay</mat-icon>
    </button>
    {{ playPositionString }}
    <mat-slider
      min="0"
      [max]="duration"
      step="1"
      [value]="playPosition"
      [disabled]="!audioLoaded"
      (input)="onPositionChangeEnd($event)"
    ></mat-slider>
    <mat-icon>volume_up</mat-icon>
    <mat-slider
      min="0"
      max="1"
      step="0.1"
      [value]="volume"
      (input)="onVolumeChangeEnd($event)"
    >
    </mat-slider>
  </div>
</ng-container>

<audio
  #audioplayer
  (timeupdate)="onPlayerTimeUpdate()"
  (ended)="onPlayerEnded()"
  (loadeddata)="onPlayerReady()"
  [volume]="volume"
>
  <source (error)="onPlayerMediaError()" [src]="audiosrc" type="audio/mpeg" />
</audio>
