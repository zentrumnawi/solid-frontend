<mat-card>
  <mat-card-title>Selbsttest</mat-card-title>
  <mat-card-content>
    <p>
      Mit diesen Fragen kann der persönliche Wissensstand in verschiedenen
      Teilbereichen überprüft werden.
    </p>
    <p>
      Das Feedback gibt genauere Hinweise darüber, warum die gegebenen Antworten
      falsch (oder richtig) waren und zeigt weitere Hintergrundinformationen
      auf.
    </p>
    <p>
      Die Fragen werden zufällig aus unserem Fragenpool ausgewählt - die
      Fragenanzahl kann hier festgelegt werden:
    </p>
  </mat-card-content>
  <hr />
  <mat-card-title>Konfiguration</mat-card-title>
  <mat-card-actions *ngIf="metaData$ | async as meta; else quizLoading">
    <div class="config">
      <div class="row">
        <div class="col-1">
          <div class="mat-subheader">Fragenanzahl</div>
        </div>
        <div class="col-2">
          <mat-slider
            min="1"
            max="10"
            step="1"
            thumbLabel
            [(ngModel)]="questionCount"
          >
          </mat-slider>
        </div>
      </div>
      <div class="row">
        <div class="col-1">
          <div class="mat-subheader">Difficulty</div>
        </div>
        <div class="col-2">
          <mat-slider
            min="0"
            max="5"
            step="1"
            thumbLabel
            [(ngModel)]="difficulty"
          >
          </mat-slider>
        </div>
      </div>
      <div class="row">
        <div class="col-1">
          <div class="mat-subheader">Tag</div>
        </div>
        <div class="col-2">
          <mat-form-field appearance="outline">
            <mat-chip-list>
              <mat-chip *ngFor="let tag of chosenTags" (removed)="remove(tag)">
                {{ tag }}
                <button matChipRemove>
                  <mat-icon>cancel</mat-icon>
                </button>
              </mat-chip>
            </mat-chip-list>
            <mat-select [(ngModel)]="chosenTags" multiple>
              <mat-option *ngFor="let tag of meta.tags" [value]="tag">
                {{ tag }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
    </div>
    <div class="formInvalid" *ngIf="!isValid">
      <p>
        Ooops in dieser Kombination gibt es keine Fragen, versuche eine andere
        Kombination
      </p>
    </div>
    <div class="button">
      <button class="startBtn" (click)="onStartClick()" mat-raised-button>
        Start
      </button>
    </div>
  </mat-card-actions>
</mat-card>
<ng-template #quizLoading>
  <mat-card-content>
    <mat-spinner color="primary"></mat-spinner>
  </mat-card-content>
</ng-template>
